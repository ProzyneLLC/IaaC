[
    {
    "cloudName": "AzureCloud",
    "homeTenantId": "c66b6765-b794-4a2b-84ed-845b341c086a",
    "id": "bfe9d21d-b148-4b5f-b061-767630d11ec0",
    "isDefault": true,
    "managedByTenants": [],
    "name": "Azure for Students",
    "state": "Enabled",
    "tenantId": "c66b6765-b794-4a2b-84ed-845b341c086a",
    "user": {
        "name": "426194@student.fontys.nl",
        "type": "user"
        }
    }

{
  "clientId": "4b174040-922e-49e7-8444-ce2522411b69",
  "clientSecret": "hrV8Q~bDGaHXpZv6Tb1ZAfVT6XiC6fffipeMMaNL",
  "subscriptionId": "bfe9d21d-b148-4b5f-b061-767630d11ec0",
  "tenantId": "c66b6765-b794-4a2b-84ed-845b341c086a",
  "activeDirectoryEndpointUrl": "https://login.microsoftonline.com",
  "resourceManagerEndpointUrl": "https://management.azure.com/",
  "activeDirectoryGraphResourceId": "https://graph.windows.net/",
  "sqlManagementEndpointUrl": "https://management.core.windows.net:8443/",
  "galleryEndpointUrl": "https://gallery.azure.com/",
  "managementEndpointUrl": "https://management.core.windows.net/"
}
]


RESOURCE_GROUP_NAME=prozyne-dev
STORAGE_ACCOUNT_NAME=devtfstateacc
CONTAINER_NAME=devtfstate

# Create resource group
az group create --name $RESOURCE_GROUP_NAME --location westeurope

# Create storage account
az storage account create --resource-group $RESOURCE_GROUP_NAME --name $STORAGE_ACCOUNT_NAME --sku Standard_LRS --encryption-services blob

# Create blob container
az storage container create --name $CONTAINER_NAME --account-name $STORAGE_ACCOUNT_NAME

ACCOUNT_KEY=$(az storage account keys list --resource-group $RESOURCE_GROUP_NAME --account-name $STORAGE_ACCOUNT_NAME --query '[0].value' -o tsv)

export ARM_ACCESS_KEY=$(az keyvault secret show --name terraform-backend-key --vault-name prozyne-dev-key-vault --query value -o tsv)